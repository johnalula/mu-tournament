detect_relations: true

############  Game Management ####################

Tournament:
  package: TournamentManagement
  tableName: mutms_tbl_tournament
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    org_token_id: { type: string(100) }  
    name: { type: string(255) }
    alias: { type: string(50) } 
    season: { type: string(50) }   
    start_date: { type: string(100) }
    effective_date: { type: string(100) }
    end_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationTournaments } 

GameCategory:
  package: TournamentManagement
  tableName: mutms_tbl_game_category
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer } 
    category_type: { type: integer } 
    active_flag: { type: boolean, default: true } 
    description:  { type: string(255) }    
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationGroupTypes }     
 
 
Game:
  package: TournamentManagement
  tableName: mutms_tbl_games
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    tournament_id: { type: integer } 
    game_type_id: { type: integer } 
    name: { type: string(255) }
    alias: { type: string(50) } }   
    gender_category_id: { type: integer } 
    start_date: { type: string(100) }
    effective_date: { type: string(100) }
    end_date: { type: string(100) }  
    roundable_flag: { type: boolean } 
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Tournament: { onDelete: CASCADE, local: tournament_id, foreign: id, foreignAlias: tournamentGames }  

############  General Setting ####################
   
GroupType:
  package: TournamentManagement
  tableName: mutms_tbl_group_type
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer } 
    group_type: { type: integer } 
    active_flag: { type: boolean, default: true } 
    description:  { type: string(255) }    
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationGroupTypes }     
 
Group:
  package: TournamentManagement
  tableName: mutms_tbl_groups
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    tournament_id: { type: integer }
    group_name: { type: string(255) }
    alias: { type: string(50) } }   
    total_group_numbers: { type: integer } 
    start_date: { type: string(100) }
    end_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Tournament: { onDelete: CASCADE, local: tournament_id, foreign: id, foreignAlias: tournamentGroups }  
 
 
GroupMembers:
  package: GameSetting
  tableName: mutms_tbl_group_members
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    tournament_id: { type: integer }
    group_id: { type: integer }
    team_id: { type: integer }
    start_date: { type: string(100) }
    effective_date: { type: string(100) }  
    end_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Group: { onDelete: CASCADE, local: group_id, foreign: id, foreignAlias: groupGroupMembers }  
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamGroupMembers }  
    Tournament: { onDelete: CASCADE, local: tournament_id, foreign: id, foreignAlias: tournamentGroupMembers }  
 

############  Team Management ####################

Team:
  package: TeamManagement
  tableName: mutms_tbl_teams
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    tournament_id: { type: integer }
    team_name: { type: string(255) }
    alias: { type: string(50) } }   
    start_date: { type: string(100) }
    end_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationTeams }  
    Tournament: { onDelete: CASCADE, local: tournament_id, foreign: id, foreignAlias: tournamentTeams }  
 

TeamParticipants:
  package: TeamManagement
  tableName: mutms_tbl_team_participants
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    team_id: { type: integer }
    player_name: { type: string(255) }
    player_role_id: { type: integer } }   
    player_number: { type: integer } }   
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamParticipantPersons }  
 
TeamDetail:
  package: TeamManagement
  tableName: mutms_tbl_team_detail
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    team_id: { type: integer }
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamsTeamDetails }  
 
 
############  Match Management ####################
   
MatchFixture:
  package: GameSetting
  tableName: mutms_tbl_match_fixture
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    game_id: { type: integer } 
    round_type_id: { type: integer } 
    hosting_place_id: { type: integer } 
    start_date: { type: string(100) }
    effective_date: { type: string(100) }  
    end_date: { type: string(100) }  
    effective_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: string(255) }    
  relations:  
    HostingPlace: { onDelete: CASCADE, local: hosting_place_id, foreign: id, foreignAlias: hostingPlaceMatchFixtures }     
    Game: { onDelete: CASCADE, local: game_id, foreign: id, foreignAlias: gameMatchFixtures }     
 
MatchParticipants:
  package: GameSetting
  tableName: mutms_tbl_match_participants
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    match_fixture_id: { type: integer }
    group_id: { type: integer }
    team_id: { type: integer }
    effective_date: { type: string(100) }
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Group: { onDelete: CASCADE, local: group_id, foreign: id, foreignAlias: groupMatchParticipants }  
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamMatchParticipants }  
    MatchFixture: { onDelete: CASCADE, local: match_fixture_id, foreign: id, foreignAlias: matchFixtureParticipants }  
 
 
MatchResult:
  package: GameSetting
  tableName: mutms_tbl_match_result
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    match_fixture_id: { type: integer }
    group_id: { type: integer }
    team_id: { type: integer }
    start_date: { type: string(100) }
    effective_date: { type: string(100) }  
    end_date: { type: string(100) }  
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    MatchFixture: { onDelete: CASCADE, local: match_fixture_id, foreign: id, foreignAlias: matchFixtureParticipants } 
 
 
MatchTable:
  package: GameSetting
  tableName: mutms_tbl_match_table
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    game_id: { type: integer }
    group_id: { type: integer }
    team_id: { type: integer }
    person_id: { type: integer }
    position: { type: integer }
    palayed: { type: integer }
    game_win: { type: integer }
    game_draw: { type: integer }
    game_lost: { type: integer }
    goal_for: { type: integer }
    goal_againest: { type: integer }
    goal_difference: { type: integer }
    points: { type: integer }
    active_flag: { type: boolean, default: true }
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Game: { onDelete: CASCADE, local: game_id, foreign: id, foreignAlias: gameMatchTables } 
    Group: { onDelete: CASCADE, local: group_id, foreign: id, foreignAlias: groupMatchTables } 
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamMatchTables } 
    Person: { onDelete: CASCADE, local: person_id, foreign: id, foreignAlias: personMatchTables } 
 
 
MatchFixtureDetail:
  package: GameSetting
  tableName: mutms_tbl_match_fixture_detail
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    match_fixture_id: { type: integer }
    team_id: { type: integer }
    person_id: { type: integer }
    effective_date: { type: string(100) }  
    event: { type: string(100) }  
    event_type_id: { type: integer }
    status: { type: integer, default: 1  } 
    description:  { type: clob }  
  relations:  
    Team: { onDelete: CASCADE, local: team_id, foreign: id, foreignAlias: teamMatchFixtureDetails } 
    MatchFixture: { onDelete: CASCADE, local: match_fixture_id, foreign: id, foreignAlias: matchFixtureDetails } 
 

 
############  Party Management ####################

Party:
  package: PartyManagement
  tableName: mutms_tbl_party
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    org_token_id: { type: string(100) }  
    parent_id: { type: integer } 
    name: { type: string(255) }
    alias: { type: string(50) } 
    party_code_number: { type: string(100) }  
    parent_flag: { type: boolean, default: false } 
    super_parent_flag: { type: boolean, default: false } 
    default_flag: { type: boolean, default: false } 
    active_flag: { type: boolean, default: true } 
    status: { type: integer, default: 1  } 
    trashed_flag: { type: boolean, default: 0 } 
    trashed_on: { type: string(100) }
    description:  { type: clob }  
  relations: 
    Party: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: parentOrganizations }    
    Party: { onDelete: CASCADE, local: parent_id, foreign: id, foreignAlias: parentPartys }    

Organization:
  package: PartyManagement 
  inheritance:
    extends: Party
    type: concrete
    keyField: type
    keyValue: 1  
  columns: 
    representative_id: { type: integer }  

Person:
  package: PartyManagement
  inheritance:
    extends: Party
    type: concrete
    keyField: type
    keyValue: 2
  columns: 
    title:  { type: string(40) } 
    father_name:  { type: string(100) }
    grand_father_name: { type: string(100) }
    full_name: { type: string(255) }
    gender: { type: integer }
    date_of_birth:  { type: string(100) } 
    place_of_birth: { type: string(100) } 
    religion: { type: integer } 
    ethnicity: { type: integer }  
    nationality: { type: integer }  
    access_activation_key: { type: string(100) } 
 
#************* Party Role, Relationship, Contact Infomation ******************/

PartyRole:
  package: PartyManagement
  tableName: mutms_tbl_party_role
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }  
    party_id: { type: integer }  
    party_role_type: { type: integer }    
    party_unit_type: { type: integer }    
    party_type: { type: integer }    
    from_date: { type: string(100) }
    thru_date: { type: string(100) }
    status: { type: integer, default: 1  } 
    default_flag: { type: boolean, default: false } 
    active_flag: { type: boolean, default: false }  
    description:  { type: clob }
  relations:
    Party: { onDelete: CASCADE, local: party_id, foreign: id, foreignAlias: partyRoles }
    
PartyRelationship:
  package: PartyManagement
  tableName: mutms_tbl_party_relationship
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }  
    party_id: { type: integer }  
    relationship_type: { type: integer }   
    position_role_id: { type: integer }  
    from_date: { type: string(100) }
    to_date: { type: string(100) }
    status: { type: integer, default: 1  } 
    default_flag: { type: boolean, default: false } 
    active_flag: { type: boolean, default: false }   
    description:  { type: clob }
  relations:
    Party: { onDelete: CASCADE, local: party_id, foreign: id, foreignAlias: partyRelationships }

PartyContact:
  package: PartyManagement
  tableName: mutms_tbl_party_contact_address
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }     
    from_date: { type: string(100) }
    to_date: { type: string(100) }
    party_id: { type: integer }  
    party_token_id: { type: string(100) } 
    address_one: { type: string(100) }
    address_two: { type: string(100) }
    country: { type: integer }
    identification_type: { type: integer }
    identification_number: { type: string(100) }
    mobile_number:  { type: string(255) }
    home_phone_number:  { type: string(255) }
    pobox:  { type: string(255) }
    email:  { type: string(255) }
    website:  { type: string(255) } 
    photo:  { type: string(255) }
    photo_file_path:  { type: string(255) }
    default_flag: { type: boolean , default: false } 
    active_flag: { type: boolean , default: false } 
    status: { type: integer }  
    description:  { type: clob }
  relations:
    Party: { onDelete: CASCADE, local: party_id, foreign: id, foreignAlias: partyContactAddresses }

PersonalContact:
  package: PartyManagement 
  inheritance:
    extends: PartyContact
    type: concrete
    keyField: type
    keyValue: 1
  columns:   
  
CompanyContact:
  package: PartyManagement 
  inheritance:
    extends: PartyContact
    type: concrete
    keyField: type
    keyValue: 3
  columns:   


############  General Setting ####################
   
SystemConfig:
  package: GeneralSetting
  tableName: mutms_tbl_system_config
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    org_token_id: { type: string(100) }   
    active_language: { type: integer }
    default_pagination_number: { type: integer } 
    start_date: { type: string(100) }
    end_date: { type: string(100) }  
    default_flag: { type: boolean, default: false }
    applicable_flag: { type: boolean, default: true }
    active_flag: { type: boolean, default: true } 
    description:  { type: string(255) }    
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationSystemConfigs }     
 
    
CodeGenerator:
  package: GeneralSetting
  tableName: mutms_tbl_code_generator
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }  
    org_id: { type: integer }
    org_token_id: { type: string(100) } 
    prefix_code: { type: string(50) }
    alias: { type: string(100) } 
    initial_number: { type: string(100) }
    last_code: { type: string(100) }
    deleted_code: { type: string(100) }
    can_recreate_deleted: { type: boolean, default: 1 }
    code_type: { type: integer }
    has_deleted: { type: boolean, default: false } 
    default_flag: { type: boolean, default: false }
    applicable_flag: { type: boolean, default: true }
    active_flag: { type: boolean, default: true }   
    description:  { type: string(255) }    
  relations:  
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationCodeGenerators }     
 
    
#########   User Management #########

User:
  package: AdministratorManagement
  tableName: mutms_tbl_user
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }      
    org_id: { type: integer }
    org_token_id: { type: string(100) }  
    person_id: { type: integer }
    person_token_id: { type: string(100) } 
    username: { type: string(255), notnull: true }
    password: { type: string(255), notnull: true } 
    full_password: { type: string(255), notnull: true } 
    access_activation_key: { type: string(100) } 
    user_role_id: { type: integer } 
    group_id: { type: integer }  
    permission_mode: { type: integer }
    has_logged_in: { type: boolean, default: false }
    last_login_date: { type: string(100) }
    activated_key_flag: { type: boolean, default: false }
    super_admin_flag: { type: boolean, default: false }
    default_super_admin_flag: { type: boolean, default: false }
    default_flag: { type: boolean, default: false }
    active_flag: { type: boolean, default: false }
    blocked_flag: { type: boolean, default: false }
    login_flag: { type: boolean, default: false }
    status: { type: integer }
    trashed_flag: { type: boolean, default: 0 } 
    trashed_on: { type: string(100) }
    description: { type: clob }
  relations:
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationUsers }  
    Person: { onDelete: CASCADE, local: person_id, foreign: id, foreignAlias: personUserAccounts }
    UserRole: { onDelete: CASCADE, local: user_role_id, foreign: id, foreignAlias: userRoleUsers } 
    UserGroup: { onDelete: CASCADE, local: group_id, foreign: id, foreignAlias: userGroupUsers } 
   
UserGroup:
  package: AdministratorManagement
  tableName: mutms_tbl_user_group
  actAs:
    Timestampable: ~
  columns:
   token_id: { type: string(100) }    
   org_id: { type: integer }
   org_token_id: { type: string(100) }  
   user_group_role_id: { type: integer }
   name: { type: string(100) }    
   ui_theme_color_setting: { type: integer, default: 1 }
   ui_language_setting: { type: integer, default: 1 }
   active_flag: { type: boolean, default: false }
   status: { type: integer } 
   trashed_flag: { type: boolean, default: 0 } 
   trashed_on: { type: string(100) }
   description: { type: clob } 
  relations:
    UserRole: { onDelete: CASCADE, local: user_group_role_id, foreign: id, foreignAlias: userRoleUserGroups } 
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationUserGroups } 
 
UserRole:
  package: AdministratorManagement
  tableName: mutms_tbl_user_role 
  actAs:
    Timestampable: ~
  columns: 
    token_id: { type: string(100) }   
    org_id: { type: integer }
    org_token_id: { type: string(100) }   
    user_role_name: { type: string(150) } 
    user_role_type_id: { type: integer } 
    alias: { type: string(100) }  
    active_flag: { type: boolean, default: false }
    default_flag: { type: boolean, default: false } 
    trashed_flag: { type: boolean, default: 0 } 
    trashed_on: { type: string(100) }
    description: { type: clob }   
  relations: 
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationModuleSettings }  

AccessLevelPermission:
  package: AdministratorManagement
  tableName: mutms_tbl_access_level_permission
  actAs:
    Timestampable: ~
  columns: 
    token_id: { type: string(100) }   
    user_role_id: { type: integer } 
    module_setting_id: { type: integer } 
    access_level: { type: integer } 
    can_add: { type: boolean, default: false }
    can_delete: { type: boolean, default: false }
    can_edit: { type: boolean, default: false }
    can_view: { type: boolean, default: false }
    can_approve: { type: boolean, default: false }  
    description: { type: clob }
  relations:
    UserRole: { onDelete: CASCADE, local: user_role_id, foreign: id, foreignAlias: userRoleAccessPermissions } 
    ModuleSetting: { onDelete: CASCADE, local: module_setting_id, foreign: id, foreignAlias: moduleUserRoleAccessPermissions } 
 
ModuleSetting:
  package: AdministratorManagement
  tableName: mutms_tbl_module_setting 
  actAs:
    Timestampable: ~
  columns: 
    token_id: { type: string(100) }   
    org_id: { type: integer }
    org_token_id: { type: string(100) }  
    module_type_id: { type: integer } 
    module_name: { type: string(150) } 
    alias: { type: string(100) } 
    default_access_level_type_id: { type: integer } 
    applicable_flag: { type: boolean, default: false }
    active_flag: { type: boolean, default: false }
    default_flag: { type: boolean, default: false }  
    trashed_flag: { type: boolean, default: 0 } 
    trashed_on: { type: string(100) }
    description: { type: clob }   
  relations: 
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationModuleSettings }  
    
SystemLogFile:
  package: SystemLogFile
  tableName: mutms_tbl_system_log_file
  actAs:
    Timestampable: ~
  columns:
    token_id: { type: string(100) }    
    org_id: { type: integer }
    org_token_id: { type: string(100) }   
    user_id: { type: integer } 
    module_setting_id: { type: integer } 
    action_date: { type: string(100) }
    action_time: { type: string(50) } 
    action_data: { type: clob } 
    action_type_id: { type: integer }
    host_name: { type: string(100) } 
    document_root: { type: string(100) } 
    php_self: { type: string(100) } 
    pc_ip_address: { type: string(100) } 
    browser_type: { type: string(100) } 
    description: { type: clob } 
  relations:
    User: { onDelete: CASCADE, local: user_id, foreign: id, foreignAlias: userSystemLogFileActivities } 
    Organization: { onDelete: CASCADE, local: org_id, foreign: id, foreignAlias: organizationSystemLogFiles } 
    ModuleSetting: { onDelete: CASCADE, local: module_setting_id, foreign: id, foreignAlias: moduleSettingLogFiles } 
